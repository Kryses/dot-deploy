# build-zsh.yml

---
- name: Check if .zshrc exists
  stat:
    path: ~/.zshrc
  register: zsh_conf_stat
- name: Check if Powerlevel10k is installed
  stat:
    path: "{{ powerlevel10k_path }}"
  register: powerlevel_folder
- name: Download PowerLevel10k
  git:
    repo: https://github.com/romkatv/powerlevel10k.git
    dest: "{{ powerlevel10k_path }}"
    depth: 1
  when: powerlevel_folder.stat.exists == False
- name: Create Symbolic link for zsh conf
  file:
    src: ~/.config/zsh/.zshrc
    dest: ~/.zshrc
    state: link
  when: zsh_conf_stat.stat.exists == false
